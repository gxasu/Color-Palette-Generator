# Design Decision Record (DDR)

Interface Design Supervisor が管理する設計判断の記録。
Material Design 3 ガイドラインに基づく全 UI 決定を記録する。

---

## DDR-001: カラーテーマをモノクロに統一

**日付**: 2025-02
**ステータス**: 採用
**コンテキスト**: カラーパレットジェネレーターの UI 自体が色を持つと、生成されるパレットの視認を妨げる。
**決定**: M3 の Primary / Secondary / Tertiary をすべてニュートラルグレーに統一する。機能色（Error, Success, Warning）のみ維持。
**根拠**: M3 では Primary は「ブランドの識別」に使用されるが、このツールのブランドは「色の中立性」であり、モノクロが最も適切。
**トークン設計**:
- Light: `--md-sys-color-primary: #5e5e5e`（Surface: #fafafa 系）
- Dark: `--md-sys-color-primary: #c8c8c8`（Surface: #131313 系）

---

## DDR-002: ボタンコンポーネントの選定

**日付**: 2025-02
**ステータス**: 採用
**コンテキスト**: ヘッダーおよびパネル内のアクションボタンのコンポーネント選定。
**決定**: `md-filled-tonal-button` を主要アクションに採用。`md-icon-button` を削除等の補助アクションに採用。
**根拠**: M3 の Button hierarchy に基づく。Filled Tonal は「重要だが最優先ではないアクション」に適し、中立テーマとの調和が良い。Filled Button はこのモノクロテーマでは目立ちすぎる。
**パディング**: 左右 16px（M3 の Medium ボタンの内部余白ガイドラインに準拠）

---

## DDR-003: コレクション名テキストフィールド

**日付**: 2025-02
**ステータス**: 採用
**コンテキスト**: ヘッダー内のコレクション名入力欄のスタイル。
**決定**: M3 Outlined Text Field パターンを CSS で再現。Floating label を `input:focus + label` / `input:not(:placeholder-shown) + label` セレクタで実装。
**根拠**: `@material/web` には Text Field コンポーネントがまだ安定版に含まれていないため、CSS による再現が最も確実。M3 の Outlined Text Field のビジュアル仕様（ボーダー、ラベル遷移、フォーカスリング）に準拠。

---

## DDR-004: スウォッチカードのインタラクション

**日付**: 2025-02
**ステータス**: 採用
**コンテキスト**: カラースウォッチの表示とインタラクション設計。
**決定**:
- 各スウォッチは 72px 高のカラー表示 + 下部に HEX 情報 + カラーピッカー
- ステップ名は inline 編集可能（click → text input）
- ベースカラーに `is-base` アウトライン + バッジ表示
- Hover で translateY(-2px) + elevation-2 のリフト効果
**根拠**: M3 の Card パターンに準拠。編集可能なテキストは M3 の Inline Editing パターン。リフト効果は M3 Elevation の interactive state 表現。

---

## DDR-005: モードタブのデザイン

**日付**: 2025-02
**ステータス**: 採用
**コンテキスト**: パレットごとのモード（Default, Dark 等）切り替え UI。
**決定**: Chip/Pill 型のタブ（border-radius: 20px）。Active 状態は Primary 色背景。Inline 編集可能な名前入力。`+` ボタンは dashed border の円形。
**根拠**: M3 の Filter Chip のビジュアルパターンに類似。タブよりもチップの方が「追加可能なモードのコレクション」というメンタルモデルに合致。

---

## DDR-006: 明度チャートの高さとインタラクション

**日付**: 2025-02
**ステータス**: 採用
**コンテキスト**: 明度カーブの視覚化と直接編集。
**決定**: Canvas ベースのチャート、高さ 480px。各データポイントをドラッグして明度（またはアルファ）を直接調整可能。
**根拠**: 480px はデスクトップでの視認性とモバイルでの操作性のバランス点。Canvas はリアルタイムドラッグの描画パフォーマンスに優れる。ドラッグ中は DOM 再構築をスキップし、Canvas 再描画のみ行うことで 60fps を維持。

---

## DDR-007: Alpha パレットの市松模様背景

**日付**: 2025-02
**ステータス**: 採用
**コンテキスト**: 透明度を持つカラーの視覚的表現。
**決定**: CSS の `background-image` による市松模様（12px グリッド）をスウォッチ背景に使用。カラーは `rgba()` オーバーレイで表示。
**根拠**: 市松模様は透明度表現のデファクトスタンダード（Photoshop, Figma 等）。ユーザーの既存のメンタルモデルと一致する。

---

## DDR-008: ライト / ダークプレビュートグル

**日付**: 2025-02
**ステータス**: 採用
**コンテキスト**: スウォッチの背景切り替え。
**決定**: Segmented Button 風のトグル（2 ボタン）。Active 状態は Primary 色。
**根拠**: M3 Segmented Button パターンに準拠。2 択のバイナリ切り替えに最適。
